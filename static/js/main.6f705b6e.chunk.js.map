{"version":3,"sources":["components/main/Phone.js","components/main/Catalog.js","components/services.js","components/main/Viewer.js","components/main/Cart.js","components/main/Filter.js","components/Main.js","components/Header.js","App.js","index.js"],"names":["Phone","props","id","name","image","snippet","onLinkClicked","onAddClick","key","react_default","a","createElement","className","data-element","data-phone-id","onClick","href","alt","src","Catalog","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this$props","onPhoneClicked","onAddClicked","phones","map","phone","main_Phone","age","imageUrl","renderPhones","React","Component","API_URL","PhonesService","getAll","_getAll","asyncToGenerator","regenerator_default","mark","_callee","result","response","wrap","_context","prev","next","window","fetch","sent","json","t0","abrupt","stop","apply","arguments","getById","_getById","_callee2","_context2","then","_x","Viewer","_this","state","images","description","mainImage","setState","_this2","data","_this3","img","i","phoneId","selectImage","_this$state$phone","onBackClicked","renderImgs","Cart","entries","_ref","_ref2","slicedToArray","item","index","onDeletePhone","Filter","disabled","queryChange","orderChange","phoneSelected","onChange","event","value","Main","handleClickSelected","handleClickBack","handleClickAddToCart","phoneAdded","hasOwnProperty","objectSpread","defineProperty","handleClickRemoveFromCart","filter","query","target","getFilteredPhones","order","filteredPhones","getAllPhones","_this$state$filter","console","log","toLowerCase","includes","sort","b","localeCompare","main_Filter","main_Cart","main_Viewer","Fragment","main_Catalog","Header","App","components_Header","components_Main","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6f705b6e.chunk.js","sourcesContent":["import React from 'react';\n\n\nfunction Phone(props) {\n  const { id, name, image, snippet, onLinkClicked, onAddClick, key } = props;\n  return (\n    <li\n      className=\"phone\"\n      data-element=\"phone-element\"\n      data-phone-id={id}\n      key={key}\n    >\n      <div className=\"phone-wrapper\">\n        <div className=\"phone__item\">\n          <a\n            onClick={onLinkClicked}\n            href={\"#!/phones/\" + name}\n            className=\"thumb\"\n            data-element=\"details-link\"\n          >\n            <img alt={name} src={image} />\n          </a>\n        </div>\n        <div className=\"phone__item\">\n          <a className=\"link\"\n            onClick={onLinkClicked}\n            href={\"#!/phones/\" + name}\n            data-element=\"details-link\"\n          >{name}</a>\n          <p>{snippet}</p>\n        </div>\n        <div className=\"phone__item\">\n          <a\n            className=\"btn btn-success\"\n            data-element=\"add-to-cart\"\n            onClick={onAddClick}\n          >\n            Add\n            </a>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Phone;","import React from \"react\";\n\nimport Phone from './Phone';\n\nclass Catalog extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderPhones() {\n    const { onPhoneClicked, onAddClicked, phones} = this.props;\n    return (phones.map((phone) => {\n      return (\n        <Phone\n          id={phone.id}\n          key={\"phone-\" + phone.age}\n          name={phone.name}\n          image={phone.imageUrl}\n          snippet={phone.snippet}\n          onLinkClicked={() => {\n            onPhoneClicked(phone.id)\n          }}\n          onAddClick={() => {\n            onAddClicked(phone.name)\n          }}\n        />)\n    }))\n  };\n  \n  render() {\n    return (\n        <ul className=\"catalog\">{this.renderPhones()}</ul>\n    );\n  }\n\n}\n\n\nexport default Catalog;","const API_URL = 'https://mate-academy.github.io/phone-catalogue-static/api';\n\nconst PhonesService = {\n  async getAll() {\n    let result;\n    try {\n      const response = await window.fetch(API_URL + '/phones.json');\n      result = await response.json();\n    } catch (error) {\n      result = [];\n    }\n    return result;\n  },\n  async getById(id) {\n    return await window.fetch(API_URL + '/phones/' + id + '.json')\n      .then((response) => response.json())\n  }\n}\n\nexport default PhonesService;\n// const PhonesService = {\n//   async getAll({ query = '', order = '' } = {}) {\n//     let result;\n//     try {\n//       const response = await window.fetch(API_URL + '/phones.json');\n//       result = await response.json();\n//     } catch (error) {\n//       result = [];\n//     }\n//     const filteredResult = result.filter((phone) => {\n//       return phone.name.toLowerCase().includes(query.toLowerCase());\n//     });\n//     switch (order) {\n//       case 'age':\n//         filteredResult.sort((a, b) => a.age - b.age);\n//         break;\n//       case 'name':\n//         filteredResult.sort((a, b) => a.name.localeCompare(b.name));\n//     };\n//     return filteredResult;\n//   },\n//   getById(id) {\n//     return window.fetch(API_URL + '/phones/' + id + '.json')\n//       .then((response) => response.json())\n//   }\n// }","import React from 'react';\n\nimport PhonesService from '../services';\n\n\nclass Viewer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      phone: {\n        id: \"\",\n        images: [],\n        name: \"\",\n        description: \"\"\n      },\n      mainImage: \"\",\n    }\n\n  }\n  selectImage(imageUrl) {\n    this.setState({\n      mainImage: imageUrl,\n    });\n  }\n\n  componentDidMount() {\n    const { id } = this.props;\n    if (id) {\n      PhonesService.getById(id).then(data => {\n        this.setState({\n          phone: data,\n          mainImage: data.images[0]\n        })\n      })\n    }\n  }\n\n  renderImgs() {\n    return (this.state.phone.images.map((img, i) => {\n      return (\n        <li key={i}>\n          <img\n            src={img}\n            alt=\"image-small\"\n            data-element=\"small-preview\"\n            key={\"img\" + this.state.phoneId}\n            onClick={() => {\n              this.selectImage(img)\n            }}>\n          </img>\n        </li>\n      )\n    }))\n  }\n\n  render() {\n    const { id, name, description } = this.state.phone;\n    const { onBackClicked, onAddClicked } = this.props;\n    return (\n      <div className=\"phoneViewer\">\n        <img\n          alt={name}\n          className=\"phoneDetail mainImage\"\n          src={this.state.mainImage}\n          data-element=\"big-preview\"\n        ></img>\n        <div className=\"phoneViewer__info\">\n          <div\n            data-element=\"phone-element\"\n            data-phone-id={id}\n            className=\"buttons\">\n            <a\n              href=\"#\"\n              className=\"btn\"\n              data-element=\"back-button\"\n              onClick={onBackClicked}>\n              Back\n\t\t\t\t\t      </a>\n            <a\n              className=\"btn\"\n              data-element=\"add-to-cart\"\n              onClick={() => {\n                onAddClicked(name)\n              }}>\n              Add to basket\n\t\t\t              </a>\n          </div>\n          <h1>{name}</h1>\n          <p>{description}</p>\n          <ul className=\"phone-thumbs\">\n            {this.renderImgs()}\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default Viewer;","import React from 'react';\n\nconst Cart = (props) => (\n\n  <div className=\"cart\">\n    <h2>Shoping Cart</h2>\n    <ul className=\"cart__ul\">\n      {Object.entries(props.name).map(([item, index]) => (\n        <li key={item + index}\n          className=\"cart__item\">\n          <button\n            className=\"btn cart__btn\"\n            onClick={() => {\n              props.onDeletePhone(item)\n            }}\n          >\n            x</button>\n          {item} - {index}\n        </li>\n      ))}\n    </ul>\n  </div>\n\n  \n);\n\nexport default Cart;","import React from 'react';\n\nclass Filter extends React.Component {\n  render() {\n    const { queryChange, orderChange, phoneSelected } = this.props;\n    let disabled;\n      if (phoneSelected) {\n        disabled = \"disabled\";\n      } else {\n        disabled = \"\";\n      };\n    return (\n      <div className=\"filter\">\n        <p>\n          Search :\n        <input\n            data-element=\"query-field\"\n            onChange={queryChange}\n            disabled={disabled}\n            ></input>\n        </p>\n        <p>\n          Sort by :\n        <select\n            data-element=\"order-field\"\n            onChange={(event) => orderChange(event)}\n            disabled={disabled}\n            >\n            <option value=\"age\">Newest</option>\n            <option value=\"name\">Alphabetical</option>\n          </select>\n        </p>\n      </div>\n    )\n  };\n}\n  \n  export default Filter;","import React from 'react';\n\nimport Catalog from './main/Catalog';\nimport Viewer from './main/Viewer';\nimport Cart from './main/Cart';\nimport Filter from './main/Filter';\nimport PhonesService from './services';\n\n\nclass Main extends React.Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      phoneSelected: null,\n      phoneAdded: {},\n      filter: {\n        query: \"\",\n        order: \"age\",\n      },\n      phones: [],\n      filteredPhones: [],\n    };\n\n  };\n\n  async componentWillMount() {\n    await this.getAllPhones();\n    await this.getFilteredPhones();\n  }\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   const vitalPropsChange = this.props.bar !== nextProps.bar;\n  //   const vitalStateChange = this.state.foo !== nextState.foo;\n  //   return vitalPropsChange || vitalStateChange;\n  // }\n\n  getAllPhones() {\n    PhonesService.getAll().then(data => {\n      this.setState({\n        phones: data\n      }, /* this.getFilteredPhones() */)\n    });\n  };\n\n  getFilteredPhones() {\n    const { query, order } = this.state.filter;\n    let filteredPhones = this.state.phones;\n    console.log(query, order);\n    filteredPhones = filteredPhones.filter((phone) => {\n      return phone.name.toLowerCase().includes(query.toLowerCase());\n    });\n    switch (order) {\n      case 'age':\n        filteredPhones.sort((a, b) => a.age - b.age);\n        break;\n      case 'name':\n        filteredPhones.sort((a, b) => a.name.localeCompare(b.name));\n    };\n    this.setState({ filteredPhones: filteredPhones })\n    // return \n  }\n\n  handleClickSelected = id => {\n    this.setState({\n      phoneSelected: id\n    });\n  };\n\n  handleClickBack = () => {\n    this.setState({\n      phoneSelected: \"\"\n    });\n  };\n  \n  handleClickAddToCart = (phone) => {\n    let i = this.state.phoneAdded[phone];\n    if (!this.state.phoneAdded.hasOwnProperty(phone)) {\n      i = 0;\n    }\n    ++i;\n    this.setState({\n      phoneAdded: {\n        ...this.state.phoneAdded,\n        [phone]: i\n      }\n    })\n  };\n\n  handleClickRemoveFromCart = (phone) => {\n    let i = this.state.phoneAdded[phone];\n    --i;\n    if (this.state.phoneAdded.hasOwnProperty(phone)) {\n      this.setState({\n        phoneAdded: {\n          ...this.state.phoneAdded,\n          [phone]: i\n        }\n      })\n    }\n    if (i === 0) {\n      delete this.state.phoneAdded[phone];\n      this.setState(this.state)\n    }\n  };\n  \n  queryChange = (event) => {\n    // let timer = null;\n    this.setState({\n      filter: {\n        ...this.state.filter,\n        query: event.target.value\n      }\n    }, this.getFilteredPhones(this.state.filter));\n    // clearTimeout(timer);\n    // timer = setTimeout(() => {\n    //   this.getAll();\n    // }, 1000)\n  };\n\n  orderChange = (event) => {\n    this.setState({\n      filter: {\n        ...this.state.filter,\n        order: event.target.value\n      }\n    }, this.getFilteredPhones(this.state.filter));\n  }\n\n  render() {\n    return (\n      <main>\n        <div className=\"wrapper\">\n          <Filter\n            queryChange={this.queryChange}\n            orderChange={this.orderChange}\n            phoneSelected={this.state.phoneSelected}\n          />\n          <Cart\n            name={this.state.phoneAdded}\n            onDeletePhone={this.handleClickRemoveFromCart}\n          />\n        </div>\n        {this.state.phoneSelected ? \n          (<Viewer \n            id={this.state.phoneSelected}\n            onBackClicked={this.handleClickBack}\n            onAddClicked={this.handleClickAddToCart}\n          />) : (\n            <>\n              <Catalog\n                onPhoneClicked={this.handleClickSelected}\n                onAddClicked={this.handleClickAddToCart}\n                phones={this.state.filteredPhones}\n              /></>)\n            }\n      </main>\n    );\n  };\n}\n\n\nexport default Main;","import React from 'react';\n\n\nfunction Header(props) {\n  return(\n    <header className=\"header\">\n      <h1>Phone Catalog</h1>\n    </header>\n  );\n}\n\n\nexport default Header;","import React from 'react';\n\nimport Main from './components/Main'\nimport Header from './components/Header';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Main />\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}